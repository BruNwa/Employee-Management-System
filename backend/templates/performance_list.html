<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance Records</title>
</head>
<!-- <style>
/* General Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}
a{
    display: flex;
}
/* Body Styling */
body {
    background-color: #0f0f1d; /* Dark background to match the admin dashboard */
    color: #ddd; /* Light text for better readability */
    font-family: Arial, sans-serif; /* Font styling */
    padding: 20px; /* Add some padding to the body */
}

/* Container for content */
.container {
    max-width: 1200px; /* Set a max-width for the container */
    margin: auto; /* Center the container */
}

/* Header Styling */
h1 {
    margin-bottom: 20px; /* Space below the heading */
    color: #e94560; /* Title color */
    text-align: center;
}

/* Button Styling */
 button {
    padding: 10px 15px; /* Padding for buttons */
    border: none; /* Remove border */
    border-radius: 5px; /* Rounded corners */
    font-size: 16px; /* Font size for button text */
    cursor: pointer; /* Pointer cursor on hover */
}


/* Create Button */
.create-button {
    background-color: #e94560; /* Vibrant color for the create button */
    color: rgb(255, 255, 255); /* Button text color */
    margin-bottom: 20px; /* Space below button */
    margin-inline:auto;

}

.create-button:hover {
    background-color: #d73d50; /* Darker shade on hover */
}

/* Filter Button */
.filter-button {
    background-color: #05a224; /* Darker color for filter button */
    color: #ffffff; /* Button text color */
    margin-top: 10px; /* Space above filter button */
}

.filter-button:hover {
    background-color: #555; /* Slightly lighter on hover */
}

/* Form Styling */
#filterForm {
    display: flex; /* Flex layout for form */
    flex-direction: column; /* Stack elements vertically */
    gap: 15px; /* Space between form elements */
    background-color: #222831; /* Darker background for form */
    padding: 15px; /* Padding inside the form */
    border-radius: 8px; /* Rounded corners */
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.3); /* Shadow for depth */
    
}

.form-group {
    display: flex; /* Flex layout for form groups */
    flex-direction: column; /* Stack label and input vertically */
}

/* Input Field Styling */
input[type="number"] {
    padding: 10px; /* Padding for input fields */
    border: 1px solid #444; /* Dark border for visibility */
    border-radius: 4px; /* Rounded corners for inputs */
    font-size: 16px; /* Font size for input text */
    background-color: #333; /* Input background matching the theme */
    color: #eee; /* Input text color */
}

/* Table Styling */
table {
    width: 100%; /* Full width for the table */
    border-collapse: collapse; /* Collapse borders */
    margin-top: 20px; /* Space above the table */
}

th, td {
    padding: 10px; /* Padding for table cells */
    text-align: left; /* Left align text */
    border: 1px solid #444; /* Border for cells */
}

th {
    background-color: #1a1a2e; /* Header background */
    color: #e94560; /* Header text color */
}

/* Action Links */
.action-link {
    margin-right: 10px; /* Space between action links */
    color: #e94560; /* Link color */
    text-decoration: none; /* Remove underline */
}

.action-link:hover {
    text-decoration: underline; /* Underline on hover */
}

/* No Records Message */
.no-records {
    text-align: center; /* Center align text */
    color: #ccc; /* Text color */
    font-style: italic; /* Italic style */
    padding: 20px; /* Space around message */
}

</style> -->
<style>
    /* RESET AND BASE STYLES */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    background-color: #0f0f1d; /* Dark background */
    color: #ddd; /* Light text color */
    font-family: Arial, sans-serif;
    padding: 20px;
}

a {
    display: flex;
}

/* CONTAINER */
.container {
    max-width: 1200px;
    margin: auto;
    padding: 20px;
}

/* HEADER */
h1 {
    margin-bottom: 20px;
    color: #e94560;
    text-align: center;
    font-size: 28px;
}

/* BUTTONS */
button {
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    font-size: 16px;
    cursor: pointer;
    transition: background-color 0.3s ease;
    font-weight: bold;
}

.create-button {
    background-color: #e94560;
    color: #fff;
    margin: 0 auto 20px auto;
    display: block;
    text-align: center;
}

.create-button:hover {
    background-color: #d73d50;
}

.filter-button {
    background-color: #05a224;
    color: #fff;
    margin-top: 10px;
    align-self: center;
}

.filter-button:hover {
    background-color: #04831b;
}

.delete-button {
    background-color: #e94560;
    color: #fff;
    padding: 5px 10px;
    font-size: 14px;
    border-radius: 4px;
}

.delete-button:hover {
    background-color: #d73d50;
}

/* FORM STYLING */
#filterForm {
    background-color: #222831;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.3);
    margin-bottom: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.form-group {
    display: flex;
    flex-direction: column;
    gap: 5px;
}

label {
    font-size: 14px;
    color: #ccc;
}

input[type="number"] {
    padding: 10px;
    border: 1px solid #444;
    border-radius: 4px;
    font-size: 16px;
    background-color: #333;
    color: #eee;
}

/* TABLE STYLING */
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    background-color: #222831;
}

th, td {
    padding: 12px;
    text-align: left;
    border: 1px solid #444;
}

th {
    background-color: #1a1a2e;
    color: #e94560;
    font-weight: bold;
}

td {
    color: #ddd;
}

td a {
    color: #e94560;
    text-decoration: none;
}

td a:hover {
    text-decoration: underline;
}

/* NO RECORDS MESSAGE */
.no-records {
    text-align: center;
    color: #ccc;
    font-style: italic;
    padding: 20px;
}

/* RESPONSIVE DESIGN */
@media (max-width: 768px) {
    .container {
        padding: 15px;
    }

    h1 {
        font-size: 22px;
    }

    table, th, td {
        font-size: 13px;
    }
}

</style>
<body>
    <div class="container">
    <h1>Performance Records</h1>

    <a href="{{ url_for('performance.create_performance') }}">
        <button class="create-button">Create New Performance Record</button>
    </a>

    <form id="filterForm" method="GET" action="{{ url_for('performance.list_performance') }}" onsubmit="event.preventDefault(); filterPerformanceRecords();">
        <div class="form-group">
        <label for="employee_id">Employee ID:</label>
        <input type="number" name="employee_id" id="employee_id" placeholder="Enter Employee ID" value="{{ request.args.get('employee_id', '') }}">
        </div>
        <div class="form-group"></div>
        <label for="reviewer_id">Reviewer ID:</label>
        <input type="number" name="reviewer_id" id="reviewer_id" placeholder="Enter Reviewer ID" value="{{ request.args.get('reviewer_id', '') }}">
    </div>
        <button class="filter-button" type="button" onclick="filterPerformanceRecords()">Filter</button> <!-- Updated to call the function -->
    </form>
{% if performance_records %}
    <table border="1">
        <thead>
            <tr>
                <th>Performance ID</th>
                <th>Employee ID</th>
                <th>Reviewer ID</th>
                <th>Review Score</th>
                <th>Review Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for record in performance_records %}
            <tr>
                <td>{{ record.performance_id }}</td>
                <td>{{ record.employee_id }}</td>
                <td>{{ record.reviewer_id }}</td>
                <td>{{ record.review_score }}</td>
                <td>{{ record.review_date.strftime('%Y-%m-%d') }}</td> <!-- Format date if needed -->
                <td>
                    <a href="{{ url_for('performance.view_performance', performance_id=record.performance_id) }}">View</a>
                    <a href="{{ url_for('performance.edit_performance', performance_id=record.performance_id) }}">Edit</a>
                    <form action="{{ url_for('performance.delete_performance', performance_id=record.performance_id) }}" method="POST" style="display:inline;">
                        <button type="submit" class="delete-button" onclick="return confirm('Are you sure you want to delete this record?');">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

{% else %}
    <p class="no-records">No performance records found.</p>
{% endif %}
</div>    
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
